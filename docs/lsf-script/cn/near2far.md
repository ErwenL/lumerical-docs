# near2far

使用提供的近场监视器数据计算指定点的远场。

**语法** | **描述**
---|---
out = near2far(nearfield, farfield, n); | 使用提供的近场监视器数据在指定的远场点计算远场。输入的非结构化数据集必须包含一个按参数化频率的名为 'E' 的属性。输出是一个非结构化数据集，其中包含一个名为 'E' 的属性，包含远场。远场频率由近场频率决定，而远场点、连接矩阵和与输出数据集关联的表面法线来自指定远场点的非结构化数据集。

**参数** |  | **默认值** | **类型** | **描述**
---|---|---|---|---
nearfield | 必填 |  | 非结构化数据集 | 以 DFT 监视器返回格式的近场数据。电场可以在分段线上采样，也可以在三角化表面上采样。如果在分段线上采样，假设电场来自 2D 模拟，使用 2D 积分核进行远场投影。类似地，如果在三角化表面上采样，假设电场来自 3D 模拟，使用 3D 积分核进行投影（见提供的参考）。
farfield | 必填 |  | 非结构化数据集 | 用于投影的远场点。如果近场在分段线上采样，远场点必须使用分段线指定。类似地，如果近场在三角化表面上采样，远场点必须在三角化表面上采样。可以使用 createsphericalsurface 命令轻松创建包含分段线或三角化曲面的非结构化数据集。
n | 可选 | 1.0 | 数字或向量 | 远场介质的背景折射率。可以是单一数字，也可以是与近场频率参数长度相同的向量。

注意：有关远场角度范围的积分，可以使用脚本命令 quadtri。更多信息请参阅 quadtri。

**示例**

此示例使用从名为 "monitor" 的监视器收集的近场数据在球体上执行远场投影。

```
surf = createsphericalsurface;
E_near = getresult("DGTD::monitor","fields");
E_far = near2far(E_near,surf);
visualize(E_far);
```

有关如何计算远场投影的更多信息，请参阅：

John B. Schneider，了解时域有限差分法，第 14 章：近场到远场变换，2010 可在以下网址获取：http://www.eecs.wsu.edu/~schneidj/ufdtd/

**另请参阅**

- [createsphericalsurface](./createsphericalsurface.md)
- [命令列表](./命令列表.md)
