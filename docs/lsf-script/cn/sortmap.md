# sortmap

脚本命令 sortmap 用于以比数组简单升序或降序更复杂的方式对矩阵进行排序。它用于创建数组排序索引的映射，之后可以重用该映射来对原始矩阵或其他矩阵进行排序。

此函数在2018a R6版本中引入。

**语法** | **描述**
---|---
`out = sortmap(A);` | 返回映射A排序矩阵的索引矩阵。复数值按幅度排序，然后按角度排序。A在排序时被当作线性数组处理，但out保留A的形状。通常该命令用于Nx1或1xN矩阵。
`out = sortmap(A, ascending);` | 可选的布尔参数默认设置为true。当为false时，按降序排序。

**示例**

此示例展示如何使用sortmap代替sort，以及结果如何等效：

```lsf
A = [3; 4; 1; 7; 10; -1];
?B = sort(A);
m = sortmap(A);
?D = A(m);
```

此示例展示如何按升序虚部、实部或幅度排序：

```lsf
A = [3+1i; 4+0.1i; 1-10i; 7-20i; 10+15i; -1+0i];
m = sortmap(imag(A));
?B = A(m); # 按升序虚部排序
m = sortmap(real(A)); 
?D = A(m); # 按升序实部排序
m = sortmap(abs(A)); 
?E = A(m); # 按升序幅度排序
```

此示例展示如何根据降序neff对两个不同的向量（neff和ng）进行排序：

```lsf
neff = [2.3; 2.4; 3.2; 1.45 ];
ng = [4.2; 4.3; 4.8; 4.9 ];
m = sortmap(neff,false);
?neff = neff(m);
?ng = ng(m);
```

此示例展示如何按距离点x0,y0最近的位置对x和y两个向量进行排序：

```lsf
x = [4.3; -4; -2; 10; 2.0 ];
y = [ -1;  1;  2;  5;  -4 ];
x0 = 2;
y0 = 2;
m = sortmap( (x-x0)^2 + (y-y0)^2);
x = x(m);
y = y(m);
?[x,y];
```

此示例展示如何根据第3列的值对NxM矩阵的行进行排序：

```lsf
A = [ 2, 4, 6;
      3, 2, 1;
      4, 4, 4 ];
m = sortmap(A(:,3));
?A = A(m,:);
```

**另请参阅**

[sort](./sort.md)
